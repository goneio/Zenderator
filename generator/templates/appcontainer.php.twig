<?php

{% for model in models %}
$this->container[\Horizon\Services\{{ model.class_name }}Service::class] = function (Slim\Container $c) {
    return new \Horizon\Services\{{ model.class_name }}Service($c);
};
{% endfor %}

{% for model in models %}
$this->container[\Horizon\Controllers\{{ model.class_name }}Controller::class] = function (Slim\Container $c) {
    return new \Horizon\Controllers\{{ model.class_name }}Controller($c);
};
{% endfor %}

{% for model in models %}
$this->container[\Horizon\TableGateways\{{ model.class_name }}TableGateway::class] = function (Slim\Container $c) {
    return new \Horizon\TableGateways\{{ model.class_name }}TableGateway($c, $c->get('DatabaseInstance'));
};
{% endfor %}

{% for model in models %}
$this->container['{{ model.class_name }}MockModel'] = function (Slim\Container $c) {
    /** @var Horizon\TableGateways\{{ model.class_name }}TableGateway ${{ model.class_name }}TableGateway */
    ${{ model.class_name }}TableGateway = $c->get(\Horizon\TableGateways\{{ model.class_name }}TableGateway::class);
    $new{{ model.class_name }}Object = ${{ model.class_name }}TableGateway->getNewMockModelInstance();
    return $new{{ model.class_name }}Object;
};
{% endfor %}


return $this->container;