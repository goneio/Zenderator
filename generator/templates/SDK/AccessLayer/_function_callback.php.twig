    /**
{% if route.callbackProperties %}
{% for callbackProperty in route.callbackProperties %}
     * @param ${{ callbackProperty.name }}
{% endfor %}
{% endif %}
     * @return array
     * @throws Exceptions\SDKException
     **/
    public function {{ route.function }}(
{% if route.callbackProperties %}
{% for callbackProperty in route.callbackProperties %}
        ${{ callbackProperty.name }}{% if callbackProperty.default %} = "{{ callbackProperty.default }}"{% endif %}{% if not loop.last %},{% endif %}

{% endfor %}
{% endif %}
    )
    {
{% if route.callbackProperties %}
        $propertyArray = [
{% for callbackProperty in route.callbackProperties %}
            '{{ callbackProperty.name }}' => ${{ callbackProperty.name }},
{% endfor %}
        ];
{% endif %}
        /** @var $response \GuzzleHttp\Psr7\Response */
        $endpoint = "{{ route.pattern }}";
        $method = "{{ route.method }}";
        $response = $this->request(
            $method,
            $endpoint,
            [
                'headers' => [
                    'Accept' => 'application/json',
                ],
{% if route.callbackProperties %}
                'body' => json_encode($propertyArray),
{% endif %}
            ]
        );
        $body = $response->getBody()->getContents();
        if(json_decode($body) === null){
            throw new Exceptions\SDKException("Response from API ({$endpoint}) was not expected JSON: " . var_export($body, true));
        }
        $body = json_decode($body);
        return $body;
    }
